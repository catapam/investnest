{% extends "base.html" %}
{% load i18n allauth account crispy_forms_tags static %}

{% block title %}
    {% translate "Sign In" %}
{% endblock title %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/auth.css' %}">
<div class="container">
    <div class="card text-center">
        {% element h1 %}
            {% translate "Mail me a sign-in code" %}
        {% endelement %}
        {% element p %}
            {% blocktranslate %}You will receive an email containing a special code for a password-free sign-in.{% endblocktranslate %}
        {% endelement %}
        {% url 'account_request_login_code' as login_url %}
        {% element form form=form method="post" action=login_url tags="entrance,login" %}
            {% slot body %}
                {% csrf_token %}
                {% element fields form=form unlabeled=True %}
                {% endelement %}
                {{ redirect_field }}
            {% endslot %}
            {% slot actions %}
                <button type="submit" tags="prominent,login" class="btn btn-success w-25 mb-2">
                    {% translate "Request Code" %}
                </button>
            {% endslot %}
        {% endelement %}
        {% element h2 %}
            {% url 'account_login' as login_url %}
            <button href=login_url tags="link" class="btn btn-success w-25 mb-2">
                {% translate "Other sign-in options" %}
            </button>
        {% endelement %}
    </div>
</div>
{% endblock content %}
